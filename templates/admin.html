<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IOCCC Admin Page</title>
    <meta name="description" content="Admin page for IOCCC judges">
    <link rel="stylesheet" href="static/ioccc.css">
    <script src="static/ioccc.js" defer></script>
  </head>
  <body>
    <header>
      <div id="logo"><img src="static/ioccc.png"> IOCCC Admin Page</div>
    </Header>
    <section>
      <strong>
{% if user %}
Welcome, {{ user }}!<br>
{% endif %}
        <br>
        Use this page to add/delete contestants, retrieve entries,
	open or close the contest.<br>
      </strong> </section>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <section>
      <strong>Error(s):</strong>
    <ul class=flashes>
    {% for message in messages %}
      <li>{{ message }}</li>
    {% endfor %}
    </ul>
    </section>
    {% endif %}
    {% endwith %}
    <section id="pageContent">
      <main role="main">
          <form name="contestants" action="admin-update" method="post"><br>
        <article>
	  <h2>Contest State</h2>
	    The contest opens on
	  <input id="opendate" type="date" name="opendate"
		 value="{{opdate}}" onclick="show_sub()">
	  and closes on
	  <input id="closedate" type="date" name="closedate"
		 value="{{cldate}}" onclick="show_sub()">
	    <br>
	    <br>
            <p id="labelFont"><b>Select</b> Username to Delete:</p>
	    <br>
	    <table>
		<tr>
		  <th>Username</th>
		  <th>Delete</th>
		</tr>
		{% for key in contestants %}
		<tr>
		  <td>
		    <label for="ct">{{key}}</label>
		  </td>
		  <td>
		    <input name="contest[{{loop.index}}]"
			   id="ct[{{loop.index}}]"
			   onclick="show_sub();" type="checkbox"
			   value="{{key}}">
		  </td>
		{% endfor %}
		<tr>
	      </table>
            <br>
	    <p id="labelFont"><b>Add</b> User: <input type="text" size="40" id="newuser" name="newuser"
			     pattern="[a-zA-Z0-9.@_\-+]+"
			     oninput="show_sub();"></p>
	    <br>
	    <p id="labelFont"><label><b>Then:</b> Click:</label>
	    <button type="submit" style="display: none" id="sub_button" class="button">Submit</button></p>
	    <br>
	    <p id="labelFont"><label><b>Else:</b> Click:</label>
            <button type="reset" onclick="hide_sub()" class="button">Reset</button></p>
	  </form>
	  <br>
	  <form action="/logout" method="get" target="_self">
	      <p id="labelFont"><label><b>Last:</b> Click:</label>
	      <button type="submit" formmethod="get" class="button">Logout</button></p>
	  </form>
        </article>
      </main>
    </section>
    <footer>
      <div id="resources"><h3>Recommended IOCCC resources</h3>
      <ul>
	 <li> <a href="https://ioccc-src.github.io/temp-test-ioccc/index.html">IOCCC Home page</a>
	 <li> <a href="https://ioccc-src.github.io/temp-test-ioccc/status.html">Current status of the IOCCC</a>
	 <li> <a href="https://ioccc-src.github.io/temp-test-ioccc/next/index.html">IOCCC Rules &amp; Guidelines</a>
	 <li> <a href="https://ioccc-src.github.io/temp-test-ioccc/faq.html">IOCCC FAQ</a>
	 <li> <a href="https://ioccc-src.github.io/temp-test-ioccc/contact.html">How to contact the IOCCC</a>
      </ul>
      </div>
      <div id="copyright"><h3>Copyright &copy; 2024 by Landon Curt Noll:
	 <a href="https://creativecommons.org/faq/#what-does-some-rights-reserved-mean"
	    target="_blank"
	    rel="license noopener noreferrer">Some Rights Reserved</a></h3>
      <p>This work is licensed by Landon Curt Noll under
          <b><a href="https://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1"
		target="_blank"
		rel="license noopener noreferrer"
		style="display:inline-block;">CC BY-SA 4.0</a></b>.</p>
      <p>You should <b>carefully review</b> the
	  <b><a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode.en"
		target="_blank"
	        rel="license noopener noreferrer">CC BY-SA 4.0 LEGAL CODE</a></b>
	 before using the licensed material.</p>
      <p>You may wish to review the
      <b><a href="https://ioccc-src.github.io/temp-test-ioccc/license.html"
	    target="_blank"
            rel="license noopener noreferrer">highlights of some of the key features and terms</a></b>.</p>
      </div>
      <div id="powered-by"><h4>Powered by:
         <a href="https://html5-templates.com/"
	    target="_blank"
	    rel="nofollow">HTML5 Templates</a></h4>
      </div>
    </footer>
  </body>
</html>
