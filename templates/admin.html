<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The IOCCC Admin Page</title>
    <meta name="description" content="File uploader for contestant entries">
    <link rel="stylesheet" href="static/ioccc.css">
    <script src="static/ioccc.js" defer></script>
  </head>
  <body>
    <header>
      <div id="logo"><img src="static/ioccc.png">
        International Obfuscated C Code Contest Admin Page</div>
    </Header>
    <section>
      <strong>
{% if user %}
Welcome, {{ user }}!<br>
{% endif %}
        <br>
        Use this page to add/delete contestants, retrieve entries,
	open or close the contest.<br>
      </strong> </section>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <section>
      <strong>Error(s):</strong>
    <ul class=flashes>
    {% for message in messages %}
      <li>{{ message }}</li>
    {% endfor %}
    </ul>
    </section>
    {% endif %}
    {% endwith %}
    <section id="pageContent">
      <main role="main">
          <form name="contestants" action="admin-update" method="post"><br>
        <article>
	  <h2>Contest State</h2>
	    The contest opens on 
  	  <input id="opendate" type="date" name="opendate"
		 value="{{opdate}}" onclick="show_sub()">
	  and closes on 
  	  <input id="closedate" type="date" name="closedate"
		 value="{{cldate}}" onclick="show_sub()">
            <h2>Select entry to update/modify:</h2>
            <p>
	      <table>
		<tr>
		  <th>Contestant Name</th>
		  <th>Delete?</th>
		</tr>
		{% for key in contestants %}
		<tr>
		  <td>
		    <label for="ct">{{key}}</label>
		  </td>
		  <td>
		    <input name="contest[{{loop.index}}]"
			   id="ct[{{loop.index}}]"
			   onclick="show_sub();" type="checkbox"
			   value="{{key}}">
		  </td>
		{% endfor %}
		<tr>
	      </table>
            <br>
	    Add User: <input type="text" size="40" id="newuser" name="newuser"
			     pattern="[a-zA-Z0-9.@_\-+]+"
			     oninput="show_sub();">
            <br>
            <br>
            <button type="reset" onclick="hide_sub()">Reset </button> <button
              type="submit"
              style="display: none"
              id="sub_button">
              Submit</button> </form>
          <p><br>
          </p>
        </article>
      </main>
    </section>
    <footer>
      <p>Â© IOTCC 2022, | powered by | <a href="https://html5-templates.com/" target="_blank"
          rel="nofollow">HTML5
          Templates</a></p>
      <address> Contact: <a href="mailto:ioccc@ioccc.org">Mail me</a> </address>
    </footer>
  </body>
</html>
